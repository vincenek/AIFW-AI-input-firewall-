<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>HG Chatbot</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; background: #f9f9f9; }
    #chat { max-width: 600px; margin: 0 auto; }
    .bot, .user { margin: 10px 0; padding: 10px; border-radius: 5px; }
    .bot { background: #e0f7fa; }
    .user { background: #dcedc8; text-align: right; }
    input { width: 80%; padding: 10px; }
    button { padding: 10px; }
  </style>
</head>
<body>
  <div id="chat">
    <div class="bot">Hi! I'm HG, your chatbot. Ask me about Boeing and Spirit AeroSystems or tell me what you think.</div>
  </div>
  <input type="text" id="input" placeholder="Type your message..." />
  <button onclick="sendMessage()">Send</button>

  <script>
    const chat = document.getElementById('chat');

    const knowledge = {
      boeing: "The UK's Competition and Markets Authority cleared Boeing's $4.7 billion acquisition of Spirit AeroSystems. The CMA said the deal would not harm competition in the aerospace sector.",
      spirit: "Spirit AeroSystems is a key supplier of fuselage components. Boeing's acquisition is valued at $4.7 billion.",
      competition: "The CMA believes the acquisition would not negatively impact competition in the aerospace industry.",
      deal: "The Boeing-Spirit AeroSystems deal was worth $4.7 billion and was cleared by the UKâ€™s CMA on August 8, 2025."
    };

    const botQuestions = [
      "Do you think Boeing's acquisition gives them too much control?",
      "How might this deal affect suppliers?",
      "Do you follow the aerospace industry?",
      "Should governments regulate big mergers like this more strictly?"
    ];

    function sendMessage() {
      const input = document.getElementById('input');
      const msg = input.value.trim();
      if (!msg) return;

      addMessage('user', msg);
      input.value = '';

      const lower = msg.toLowerCase();
      let response = "I'm not sure I understand that. Try asking about the Boeing deal or Spirit AeroSystems.";

      if (lower.includes("boeing")) response = knowledge.boeing;
      else if (lower.includes("spirit")) response = knowledge.spirit;
      else if (lower.includes("competition")) response = knowledge.competition;
      else if (lower.includes("deal") || lower.includes("acquisition")) response = knowledge.deal;

      setTimeout(() => {
        addMessage('bot', response);
        // Ask follow-up question
        const question = botQuestions[Math.floor(Math.random() * botQuestions.length)];
        setTimeout(() => {
          addMessage('bot', question);
        }, 1000);
      }, 500);
    }

    function addMessage(sender, text) {
      const msg = document.createElement('div');
      msg.className = sender;
      msg.innerText = text;
      chat.appendChild(msg);
      chat.scrollTop = chat.scrollHeight;
    }
  </script>
</body>
</html>